# Cinedex Platform Details

Cinedex is a workspace-aware, multi-app operating system for filmmaking and creative production. It grew out of the Nubook proof-of-concept (deprecated name) and now orchestrates pitching, production, hiring, studio operations, finances, automation, and marketing across shared services so every first-party app stays focused while common concerns stay centralized.

## Multi-app landscape
- **Cinehub:** Community/discovery hub for filmmakers, profiles, showreels, and opportunity surfacing.
- **Gigs:** Hiring and casting experience connecting job postings with availability, applications, and payouts.
- **Spark:** Creative pitch decks, treatments, and narrative-building tools with direct handoffs into Films.
- **Films:** Living production book covering script-to-post, rights/IP tracking, media assets, and distribution planning.
- **Studio:** Physical studio/room management with calendars, availability, bookings, policies, and asset uploads.
- **Loadout:** Gear inventory, kits, maintenance, check-in/out, and studio dependency orchestration.
- **Pulse:** Business insights, cost analysis, utilization dashboards, and portfolio-wide analytics.
- **Ledger:** Unified financial system of record for revenue, payouts, payroll, deposits, and expenses with app tagging.
- **Sync:** Scheduling, conflict detection, automation orchestration, and rule execution across services.
- **Atlas:** Public-facing knowledge library with guides, partner resources, and partner-friendly distribution.

Every app references shared identity, asset storage, finance, and orchestration services so journeys stay consistent between workspaces and servers.

## Shared platform services
- **Workspace model:** Multi-organization workspaces, granular roles, and a workspace selector that surfaces context with every navigation; workspace metadata travels with each request so auth, assets, and ledger entries stay scoped.
- **Central auth & identity:** Single login across domains, MFA enrollment, auth policy enforcement, API keys, and session orchestration (including device confirmation, forgot-password flows, role expirations).
- **Assets & storage:** Unified asset primitives, app-scoped ownership metadata, object storage, and content delivery paths for media/marketing/public assets.
- **Orchestration & automation:** Automation & Productivity Program (TODO-009) captures scripts like `scripts/update_tree.sh`, marketing preview runs, and verification routines so repeated tasks stay deterministic and logged.
- **Global services:** Notifications, search, permissions, audit logs, and external integrations/Resend templates all reference the governance laws (UI Integrity, Email Integrity, Authority) before they roll out.
- **Device & app governance:** Prepare for MicroMDM integration (certificate/policy sync, device enrollment) so every app can enforce device policies; include the App Marketplace/App Store concept in the governance planning so future apps plug into a central catalog, share MicroMDM policies, and expose their automation hooks (TODO-009) plus authority-verified documentation before publication.
- **App Marketplace & MicroMDM readiness:** The App Marketplace catalog lists apps, device policy requirements, automation endpoints, and certification data. Catalog every marketplace submission in `queue.md` (law refs: MicroMDM & Marketplace, Authority, Queue Discipline) before publishing; attach previews/logs to automation trackers so the Jobs & Branch Tracking worker (Git & Branch Tracking) knows which branches require merge reports. Atlas integrations join the catalog with partner data, service-level agreements, and cross-cluster automation tests so the Atlas knowledge library stays consistent with MicroMDM policies and the App Marketplace & Atlas Readiness Law. Device policy updates (MicroMDM certs, policy bundles) must rerun the automation suite (`scripts/update_tree.sh`, `scripts/git-sync.sh`, `scripts/git-merge-report.sh`) and record the outcomes in the TODO verification block so the Architecture/Infrastructure workers can reproduce deployments across clusters.

## Multi-App Service Expansion Blueprint
- **Queue/TODO triggers:** Every expansion concept begins inside `queue.md`, where the Queue Steward (Roadmap/TODO Governance + Tree & Hygiene) documents owners, blockers, and the law stack (Authority, Queue Discipline, UI Integrity, Email Integrity, Observability Safeguards) so the idea can sit in the queue until a TODO spins up; the queue always remains future-only and never lists the current TODO, keeping the control workspace deterministic.
- **Worker responsibilities:** Roadmap/TODO Governance curates the narrative, Authority & Compliance verifies law enforcement, Scripts & Automation wires Resend previews and Observability smoke tests, Git & Branch Tracking runs `scripts/git-branch-log.sh`/`scripts/git-merge-report.sh`, Database & Infrastructure captures server/data-partition plans, and Frontend/Backend map the UI/UX flows that touch the shared design system. Structure & Consolidation ensures new folders only appear alongside documented TODOs and guard rails.
- **Automation & merge reporting:** Pair each expansion with deterministic automation: Resend templates for marketing/auth notices, React Flow renders for flow diagrams, Observability Playbook smoke tests for instrumentation, and multi-server readiness checks for the deployment topology. Log every automation output inside the TODO verification block, cite the supporting laws, and generate a merge report before any human-approved merge so the Git worker can trace every branch touched by the expansion.
- **Marketing/auth/observability guard rails:** Marketing and notification work obey the Email Integrity Law with full UX states, accessible microcopy, validation feedback, and Resend preview logs, while auth surfaces (workspace sign-in, 2FA, password resets, API key rotation) follow the Auth Governance Law to keep shared services secure. Observability guard rails (TODO-013) capture telemetry, alerts, and dashboards so the new service ships with measurable signals across all servers.
- **Multi-server readiness:** Every blueprint lists the target servers, clusters, and database partitions plus the shared identity/auth/ledger hosts it depends on, so workspace context travels predictably across clusters. Document which automation scripts provision the topology, how data partitions sync across shards, and which worker owns the deployment lifecycle so migrations stay consistent.

## Multi-server & multi-database readiness
Cinedex is designed to scale horizontally: each app can deploy to dedicated servers or clusters, shared services operate across databases, and migrations follow the multi-server deployment blueprint (Phase 1–3). Service topology, database segregation, orchestration hooks, and migration checklists are described in `ROADMAP.md` so every new environment reproduces the same automation verification (TODO-009) and reliability guard rails (TODO-007).

- **Multi-tenant architecture:** Clients and internal workspaces share the same multi-tenancy fabric; governance mandates per-tenant isolation via metadata-scoped requests, shared identity tokens, and database partitions so marketing/public surfaces stay separated from app-specific data streams. Document which clusters own tenancy metadata, how cross-tenant services communicate, and where deterministic version/compatibility metadata applies (platform release = `VERSION.md`, app/marketing surfaces read MAJOR/MINOR compliance per the Compatibility Contract).
- **Version & compatibility mapping:** Multi-server readiness means every cluster references the canonical MAJOR.MINOR.MICRO.PATCH string, obeys the Platform Compatibility Enforcement Law (apps declare min/max platform versions), and logs warnings if drift appears (marketing/observability surfaces may warn, but blocking conditions occur only when canonical queue/roadmap laws fail). Include compatibility notes in infrastructure sections so operators know which app clusters may warn or block when platform versions advance.
- **Readiness definition:** Multi-server readiness is the ability to deploy each app/cluster with documented topology, database partition rules, automation hooks, and compatibility expectations. Readiness checklists cover failover plans, backups, migrations, observability sweeps, and law references, ensuring the deterministic release cycle (Non-Interruptible TODO Execution, Deterministic Versioning) stays enforced across every server.
-## Observability, reliability, and UX
- Instrumentation covers every app (Studio through Atlas) plus shared services; signals include bookings throughput, production-book sync, payment writes, automation execution traces, and telemetry from the LLM tier (TODO-013).
- Automation verification attaches Lighthouse/preview scripts to marketing pages, reliability dashboards, and auth audits so UI remains clean, workable, modern, and error-proof.
- The Reliability & UX Safeguards (TODO-007/008) describe retries, fallback UX, alert remediations, and chaos scenarios so experiences stay resilient before a phase ships.

-## Observability Ops Automation Update (TODO-042)
- **Instrumentation catalog expansion:** Scripts & Automation keeps the instrumentation catalog current—each entry records telemetry owners, automation scripts, verification steps, and governing laws (Observability Automation Law, Law Catalog Maintenance Law). Document this catalog here and in README so managers understand how the data evolves across workspaces and servers.
- **Automation logging & Sequencer prep:** Captured automation outputs (`scripts/update_tree.sh`, Observability smoke tests, automation tracker entries) land in `scripts/logs/sequencer-batch-042.md` so the Sequencer worker can cite the Observability Automation Law and instrumentation catalog refresh when closing the third TODO in this batch.
- **Verification hooks:** Tie the instrumentation catalog to Observability tooling (Resend previews for alerts, React Flow diagrams, log samplers) and clarify the required automation outputs before TODO-042 closes so future batches keep referencing the same dataset.

- ## Observability Ops Automation Detail
- **Instrumentation catalog:** Scripts & Automation maintains the per-service telemetry catalog (Studio through Atlas), ties each signal to automation scripts, and reruns those scripts whenever instrumentation metadata or configuration changes.
- **Automation logging:** Every Observability run logs the scripts executed, services touched, telemetry indicators sampled, and law verification status inside the automation tracker; River partition and Observability Automation Law references ensure the Sequencer worker can cite compliance during batch verification. The instrumentation catalog, stored alongside `scripts/logs/observability-runs.md`, feeds the Feature Registry so the Automation & Productivity worker and Pulse dashboards share the same telemetry view.
- **Sequencer oversight:** Roadmap/TODO Governance and Sequencer & Batch Oversight gather the automation logs, queue updates, and law citations before closing TODO-039 so the triple cycle summary shows how observability instrumentation remains deterministic across clusters.

-## Marketing, governance, and authority
- Marketing site blueprints, automation/resend workflows, and the marketing status tracker enforce the UI Integrity and Email Integrity laws before any page launches; the Authority & Compliance worker oversees law changes and ensures every new idea enters the roadmap queue before implementation.
- Queue tracking (queue.md) records in-flight TODOs, owners, blockers, and laws so managers rotate tasks without guesswork; new queue items feed the roadmap, maintaining the assumption “new ideas -> roadmap.”
- The automations and marketing execution checklist reference `scripts/update_tree.sh`, the preview scripts, and `marketing/status.md` (TODO-022) to prove each asset obeys the truth governance rules before it gets published.
- **Integration workers:** Resend Email integration is a Scripts & Automation + Authority & Compliance effort (automation previews, law references, queue recording), while React Flow integration leans on Frontend + Backend + Git & Branch Tracking to keep diagrams accurate, merged reports logged, and UI/Workflow laws enforced. Every integration ties back to the automation tracker plus the automation/multi-server guides described earlier.
- **Multi-App Service Expansion checklist:** Before approving a new app/service, run this loop: (1) document the idea in `queue.md` with worker assignments and law references; (2) capture the architectural/multi-server scope inside README/`APP.details.md`; (3) attach automation scripts (React Flow previews, API smoke tests, Resend templates) and rerun `scripts/update_tree.sh`; (4) stage changes via `scripts/git-sync.sh` and generate a merge report before human-approved merges; (5) record verification in TODO-031 citing automation outputs, law citations, and worker sign-offs. This guarantees each expansion is deterministic, law-governed, and easy to hand off.

## Auth, security, and LLM safeguards
- Auth governance covers workspace-aware sign-in, MFA, API sessions, policy overrides, and audit logging with 2FA/reCAPTCHA/resend guard rails; all flows must deliver complete UI states (labels, validation, success/error messaging).
- LLM integration (TODO-021) is treated as an opinion draft until human verification, with prompts logged, rate-limits enforced, and outputs compared to authoritative sources before they appear in README, governance, or marketing copy.

## LLM Integration Blueprint
- **Workflow triggers:** Every LLM idea sits in `queue.md` (future-only) before TODO-034 activates; the Queue Steward records owners, blockers, and the laws (LLM Safeguards, Truth Governance, Automation & Productivity, Workflow Reference) so nothing moves without governance oversight.
- **Automation and logging:** Scripts & Automation logs prompts/responses, rate-limit checks, and hallucination guards; Observability smoke tests monitor telemetry; Resend previews verify announcements; `scripts/update_tree.sh` reruns whenever new docs appear; and `scripts/git-merge-report.sh` archives the branch report before merges run.
- **Clusters & readiness:** Document which clusters/pods handle inference, control, logging, and metrics, how workspace context flows through shared auth and identity hosts, and what automation scripts (TODO-009) provision and verify these shards so the assistant remains deterministic across multi-server/multi-database deployments.
- **Batch verification:** The Sequencer & Batch Oversight worker tracks the triple TODO cycle, delaying the final verification summary until the third TODO closes so automation, laws, and documentation stay aligned with the Batch Verification Law; this keeps the documentation burden centered on a single verification window even while tasks complete sequentially.

## Git & workflow discipline
- Git automation and branch tracking practices (see `git/workflow.md`) ensure every change is tied to an active TODO, the roadmap, and the queue. Managers/workers must run `scripts/git-sync.sh` for commit/push work, name branches `codex/<TODO>-<short>`, and capture the branch log via `scripts/git-branch-log.sh` before the Git & Branch Tracking worker certifies the branch notes.
- `git/branches.md` becomes the Git worker’s dashboard: keep it updated with branch purpose, verification status, and references to the active TODO/roadmap so future handoffs can trace who introduced each change even before a merge TODO arrives.

## Git Automation Reporting Blueprint
- **Queue/TODO triggers:** Document Git reporting plans in `queue.md` before TODO-035 opens; the Queue Steward ensures the plan cites Git Workflow, Merge Reporting, and Batch Verification laws, names the branch/merge owner, and notes blockers.
- **Automation chain:** Stage/commit/push via `scripts/git-sync.sh`, refresh the branch log with `scripts/git-branch-log.sh`, generate merge-ready summaries using `scripts/git-merge-report.sh`, and store the outputs in `git/branches.md`/`git/merge-reports/`. Link each automation entry to TODO-035 verification so the Authority & Compliance worker can verify compliance.
- **Sequencer oversight:** The Sequencer & Batch Oversight worker aggregates the automation logs from TODO-033, TODO-034, and TODO-035 before publishing the batch verification summary, keeping the Batch Verification Law satisfied while minimizing redundant reporting.

## Handoff references
- Use `ROADMAP.md` for the phase-by-phase plan, dependencies, and instrumented guard rails; use `APP.details.md` for platform definitions, shared services, and governance/law references so every new manager can continue from written context without repeated dialogue.
